<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Chore Chart{{if .KidName}} - {{.KidName}}{{end}}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/static/static.css">
</head>
<body>
  <div class="app-shell">
    <header class="top-bar">
      <div class="top-bar-row">
        <h1>Chore Chart</h1>
        {{if .KidName}}
          <a class="back-link" href="/">All chores</a>
        {{end}}
      </div>
      {{if .KidName}}
        <div class="kid-label">For {{.KidName}}</div>
      {{end}}
      <div class="date">Today: {{.Today}}</div>
      <p class="hint">Swipe ➡ to mark done, swipe ⬅ to skip</p>
    </header>

    {{if not .KidName}}
      <div class="tab-strip" id="kid-tabs" data-kids='{{toJSON .KidList}}'>
        <!-- Tabs built by JS -->
      </div>
    {{end}}

    <main class="board">
      <section class="board-section">
        <div class="section-header">Current chores</div>
        <div class="card-container" id="active-container">
          {{if .Tasks}}
            {{range .Tasks}}
              <div
                class="card {{.Status}}"
                data-task-id="{{.ID}}"
                data-status="{{.Status}}"
                data-kid="{{.Kid}}"
              >
                <div class="card-kid">{{.Kid}}</div>
                <div class="card-title">{{.Title}}</div>
                <div class="card-status">
                  <span class="status-label">
                    {{if eq .Status "done"}}Done ✅
                    {{else if eq .Status "skipped"}}Skipped ⏭
                    {{else}}Pending ⏳
                    {{end}}
                  </span>
                </div>
              </div>
            {{end}}
            <div class="empty-state" id="active-empty" hidden>No chores pending.</div>
          {{else}}
            <div class="empty-state" id="active-empty">
              No chores assigned for {{if .KidName}}{{.KidName}}{{else}}today{{end}}.
            </div>
          {{end}}
        </div>
      </section>

      <section class="board-section">
        <div class="section-header">Completed / skipped</div>
        <div class="card-container" id="completed-container">
          <div class="empty-state" id="completed-empty">Nothing completed yet.</div>
        </div>
      </section>
    </main>

    <script src="/static/app.js"></script>
  </div>
</body>
</html>
